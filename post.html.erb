<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>
            <%= title %> â€“ Instabox
        </title>
        <style type="text/css">
            html, pre { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue",sans-serif; }
            img, video { max-height: calc(100vh - 2em); }
            body { display: flex; column-gap: 1em; grid-auto-rows: calc(100vh - 2em); grid-auto-columns: fit-content(30vw) 1fr; flex-basis: 0;}
            #media { flex-basis: 0 }
            pre { width: 100%; white-space: pre-line; }
        </style>
    </head>
    <body>
        <div id="media">
        <% if node.is_video %>
            <video controls src="<%= video %>" poster="<%= images.first %>"></video>
        <% end %>
        <% if images.size > 1 || !node.is_video %>
            <% for image in images %>
            <img src="<%= image %>">
            <% end %>
        <% end %>
        </div>
        <div id="text">
            <a href="https://instagram.com/<%= node.owner.username %>"><%= node.owner.username %></a>
            <pre><%= text %></pre>
        </div>
    </body>
</html>
